buildscript {
	ext {
		springBootVersion = '1.5.10.RELEASE'
	}
	repositories {
		mavenCentral()
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
	}
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'org.springframework.boot'

group = 'org.mskcc.igo.pi'
version = '0.2.0-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
	mavenCentral()
	mavenLocal()
}

configurations {
	all*.exclude module : 'spring-boot-starter-logging'
	all*.exclude module : 'logback-classic'
}

dependencies {
	compile group: 'org.mskcc.common', name:'common-domain', version: '2.4.0-SNAPSHOT'

	compile('org.springframework.boot:spring-boot-starter-security')

	compile('org.springframework.boot:spring-boot-starter-web') {
	}

	compile ('org.springframework.boot:spring-boot-starter-log4j2')

	testCompile('org.springframework.boot:spring-boot-starter-test')
	testCompile('org.springframework.security:spring-security-test')
	testCompile group: 'org.apache.poi', name: 'poi-ooxml', version: '3.9'
}

bootRun {
	systemProperties = System.properties

	if (System.getProperty('DEBUG', 'false') == 'true') {
		jvmArgs '-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5007'
	}
}

springBoot {
	executable = true
}

jar {
	baseName = 'cmo-patient-converter'
}
